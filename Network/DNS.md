# ICANN
The Internet Corporation for Assigned Names and Numbers 
互联网名称与数字地址分配机构是一个非营利性的国际组织，负责全球范围内互联网协议（IP）地址的空间分配、协议标识符的指派、通用顶级域名（gTLD）以及国家和地区顶级域名（ccTLD）系统的管理、以及根服务器系统的管理

# 顶级域
全球目前存在上千种顶级域，按用途分成两大类，通用顶级域(比如com，net，org等)，国家顶级域(比如cn，us，uk，jp)

 那么问题又来了，全球一千多种顶级域，怎么知道每个顶级域的地址呢？顶级域有没有谁管理呢？有的，整个互联网解析其实是在13个根服务器控制中的，1个为主根服务器在美国，其余12个均为辅根服务器，其中9个在美国，欧洲2个，位于英国和瑞典，亚洲1个位于日本。我们在互联网上的每次解析请求都是去找这13个根服务器，根服务器会判断不同后缀域名返回不同顶级域的地址，13个根服务器的IP是很少变化的，都是直接预置在操作系统里，这样整个解析流程就连起来了。

# DNS （Domain Name System）
翻译过来就是 域名系统，是互联网上作为 域名和IP地址 相互映射的一个分布式数据库。
DNS 能够使用户更方便的访问互联网，而不用记住能够被机器直接读取的IP数串。

# 域名解析
通过域名，得到与该域名对应的 IP地址。

下面这张图，详细说明了一个DNS域名解析的全过程：
![](https://ws3.sinaimg.cn/large/006tNc79gy1g2xinniyazj30sl0jt77c.jpg)

下面来详细解释DNS域名解析的过程：

网络客户端就是我们平常使用的电脑，打开浏览器，输入一个域名。比如输入www.163.com，这时，你使用的电脑会发出一个DNS请求到本地DNS服务器。本地DNS服务器一般都是你的网络接入服务器商提供，比如中国电信，中国移动。

查询www.163.com的DNS请求到达本地DNS服务器之后，本地DNS服务器会首先查询它的缓存记录，如果缓存中有此条记录，就可以直接返回结果。如果没有，本地DNS服务器还要向DNS根服务器进行查询。

根DNS服务器没有记录具体的域名和IP地址的对应关系，而是告诉本地DNS服务器，你可以到域服务器上去继续查询，并给出域服务器的地址。

本地DNS服务器继续向域服务器发出请求，在这个例子中，请求的对象是.com域服务器。.com域服务器收到请求之后，也不会直接返回域名和IP地址的对应关系，而是告诉本地DNS服务器，你的域名的解析服务器的地址。

最后，本地DNS服务器向域名的解析服务器发出请求，这时就能收到一个域名和IP地址对应关系，本地DNS服务器不仅要把IP地址返回给用户电脑，还要把这个对应关系保存在缓存中，以备下次别的用户查询时，可以直接返回结果，加快网络访问。

 

关于DNS解析的TTL参数：

我们在配置DNS解析的时候，有一个参数常常容易忽略，就是DNS解析的TTL参数，Time To Live。TTL这个参数告诉本地DNS服务器，域名缓存的最长时间。用阿里云解析来举例，阿里云解析默认的TTL是10分钟，10分钟的含义是，本地DNS服务器对于域名的缓存时间是10分钟，10分钟之后，本地DNS服务器就会删除这条记录，删除之后，如果有用户访问这个域名，就要重复一遍上述复杂的流程。

其实，如果网站已经进入稳定发展的状态，不会轻易更换IP地址，我们完全可以将TTL设置到协议最大值，即24小时。带来的好处是，让域名解析记录能够更长时间的存放在本地DNS服务器中，以加快所有用户的访问。设置成24小时。

# DNS中的 正向解析 与 反向解析
1. 正向解析：域名 查 IP

```
$ nslookup www.google.com
Server:		206.223.27.1
Address:	206.223.27.1#53  --- DNS名称服务器

Non-authoritative answer:
Name:	www.google.com
Address: 172.217.163.68 --- www.google.com 的 IP 地址
```





3. 反向解析：IP 查 域名